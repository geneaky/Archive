
broker의 역할중 하나로 중앙 집중화된 카프카 구조에서 데이터 유실이 방지하기 위해 
여러개의 브로커에 데이터를 분산해서 복제한다.
이를 통해 장애 허용 시스템으로 동작이되는 것.

카프카 데이터 복제는 파티션 단위로 이루어진다. 
레플리케이션 팩터 개수에 따라 복제 수가 달라지는데
리더와 팔로워로 나뉘는데 실제 통신은 리더에서 이루어지고 팔로워는 리더 파티션에서 데이터를 가져와 복제해 가는 구조이다. 

팔로워 파티션은 자신의 오프셋과 리더의 현재 오프셋을 확인하여 리더에 추가된 레코드를 복제해서 가져오는 것

브로커에 장애가 발생한경우 팔로워 파티션중 하나가 리더 파티션으로 승급이된다.

모니터링 시스템이 가져가기위한 데이터를 프로듀서가 리더 파티션에 레코드를 추가하고 모니터링 시스템에서 pull로 consume할 경우 replication factor를 1로 설정하는 것이 일반적이다.

